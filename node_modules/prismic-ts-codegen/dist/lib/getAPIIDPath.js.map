{"version":3,"file":"getAPIIDPath.js","sources":["../../../src/lib/getAPIIDPath.ts"],"sourcesContent":["import { FieldPath } from \"../types\";\n\ntype GetAPIIDPathArgs = {\n\tpath: FieldPath;\n};\n\nexport function getAPIIDPath(args: GetAPIIDPathArgs) {\n\tlet result = \"\";\n\n\tfor (let i = 0; i < args.path.length; i++) {\n\t\tif (i > 0) {\n\t\t\tresult += \".\";\n\t\t}\n\n\t\tconst element = args.path[i];\n\n\t\tif (\n\t\t\telement.model &&\n\t\t\t\"type\" in element.model &&\n\t\t\t(element.model.type === \"Group\" || element.model.type === \"Slices\")\n\t\t) {\n\t\t\tresult += `${element.name}[]`;\n\t\t} else {\n\t\t\tif (element.name === \"items\") {\n\t\t\t\tconst previousElement = args.path[i - 1];\n\n\t\t\t\tif (\n\t\t\t\t\t(previousElement.model && \"json\" in previousElement.model) ||\n\t\t\t\t\t(previousElement.model &&\n\t\t\t\t\t\t\"type\" in previousElement.model &&\n\t\t\t\t\t\tpreviousElement.model.type === \"SharedSlice\")\n\t\t\t\t) {\n\t\t\t\t\tresult += `${element.name}[]`;\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tresult += element.name;\n\t\t}\n\t}\n\n\treturn result;\n}\n"],"names":[],"mappings":"AAMM,SAAU,aAAa,MAAsB;AAClD,MAAI,SAAS;AAEb,WAAS,IAAI,GAAG,IAAI,KAAK,KAAK,QAAQ,KAAK;AAC1C,QAAI,IAAI,GAAG;AACA,gBAAA;AAAA,IACX;AAEM,UAAA,UAAU,KAAK,KAAK,CAAC;AAE3B,QACC,QAAQ,SACR,UAAU,QAAQ,UACjB,QAAQ,MAAM,SAAS,WAAW,QAAQ,MAAM,SAAS,WACzD;AACS,gBAAA,GAAG,QAAQ,IAAI;AAAA,IAAA,OACnB;AACF,UAAA,QAAQ,SAAS,SAAS;AAC7B,cAAM,kBAAkB,KAAK,KAAK,IAAI,CAAC;AAEvC,YACE,gBAAgB,SAAS,UAAU,gBAAgB,SACnD,gBAAgB,SAChB,UAAU,gBAAgB,SAC1B,gBAAgB,MAAM,SAAS,eAC/B;AACS,oBAAA,GAAG,QAAQ,IAAI;AAEzB;AAAA,QACD;AAAA,MACD;AAEA,gBAAU,QAAQ;AAAA,IACnB;AAAA,EACD;AAEO,SAAA;AACR;"}